"function"!==typeof window.DIL&&(window.DIL=function(c,g){var h=[],f,l;c!==Object(c)&&(c={});var m,k,D,M,z,x,I,A,N,O,P,E;m=c.partner;k=c.containerNSID;D=!!c.disableDestinationPublishingIframe;M=c.iframeAkamaiHTTPS;z=c.mappings;x=c.uuidCookie;I=!0===c.enableErrorReporting;A=c.visitorService;N=c.declaredId;O=!0===c.removeFinishedScriptsAndCallbacks;P=!0===c.delayAllUntilWindowLoad;E=!0===c.disableIDSyncs;var Q,R,S,J,F,T,U,V;Q=!0===c.disableScriptAttachment;R=!0===c.disableCORSFiring;S=!0===c.disableDefaultRequest;
J=c.afterResultForDefaultRequest;F=c.dpIframeSrc;T=!0===c.testCORS;U=!0===c.useJSONPOnly;V=c.visitorConstructor;I&&DIL.errorModule.activate();var W=!0===window._dil_unit_tests;(f=g)&&h.push(f+"");if(!m||"string"!==typeof m)return f="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:f,filename:"dil.js"}),Error(f);f="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(k||"number"===typeof k)k=parseInt(k,10),
!isNaN(k)&&0<=k&&(f="");f&&(k=0,h.push(f),f="");l=DIL.getDil(m,k);if(l instanceof DIL&&l.api.getPartner()===m&&l.api.getContainerNSID()===k)return l;if(this instanceof DIL)DIL.registerDil(this,m,k);else return new DIL(c,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+m+" and containerNSID \x3d "+k);var y={IS_HTTPS:"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},
K={stuffed:{}},n={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:k+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+
"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var b=this,d,e,t,s,c;if("function"===typeof a&&"function"===typeof a.getInstance){if(A===Object(A)&&(d=A.namespace)&&"string"===typeof d)e=a.getInstance(d,{idSyncContainerID:k});
else{this.releaseType="no namespace";this.releaseRequests();return}if(e===Object(e)&&"function"===typeof e.isAllowed&&"function"===typeof e.getMarketingCloudVisitorID&&"function"===typeof e.getCustomerIDs){if(!e.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=e;t=function(a){"VisitorAPI"!==b.releaseType&&(b.mid=a,b.releaseType="VisitorAPI",b.releaseRequests())};if(W&&(s=A.server)&&"string"===typeof s)e.server=s;c=e.getMarketingCloudVisitorID(t);if("string"===
typeof c&&c.length){t(c);return}setTimeout(function(){"VisitorAPI"!==b.releaseType&&(b.releaseType="timeout",b.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(f){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=
r.isPopulatedString,b=this.getMarketingCloudVisitorID();if(!a(this.mid)||this.mid!==b)this.mid=b;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(a){if(a===Object(a)){var b="",d=[],e=[],t,c;for(t in a)a.hasOwnProperty(t)&&(e[0]=t,c=a[t],c===Object(c)&&(e[1]=c.id||"",e[2]=c.authState||0,d.push(e),e=[]));if(e=d.length)for(a=0;a<e;a++)b+="\x26d_cid_ic\x3d"+d[a].join("%01");return b}return""}},
declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,b){var d=r.isPopulatedString,e=encodeURIComponent;if(a===Object(a)&&d(b)){var c=a.dpid,s=a.dpuuid,f=null;if(d(c)&&d(s)){f=e(c)+"$"+e(s);if(!0===this.declaredIdCombos[f])return"setDeclaredId: combo exists for type '"+b+"'";this.declaredIdCombos[f]=!0;this.declaredId[b]={dpid:c,dpuuid:s};return"setDeclaredId: succeeded for type '"+b+"'"}}return"setDeclaredId: failed for type '"+b+"'"},getDeclaredIdQueryString:function(){var a=
this.declaredId.request,b=this.declaredId.init,d="";null!==a?d="\x26d_dpid\x3d"+a.dpid+"\x26d_dpuuid\x3d"+a.dpuuid:null!==b&&(d="\x26d_dpid\x3d"+b.dpid+"\x26d_dpuuid\x3d"+b.dpuuid);return d}},registerRequest:function(a){var b=this.firingQueue;a===Object(a)&&b.push(a);if(!this.firing&&(b.length&&(!P||DIL.windowLoaded))&&this.adms.calledBack)if(a=b.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),r.isPopulatedString(a.corsPostData)&&
(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),B.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag))this.firstRequestHasFired=!0},processVisitorAPI:function(){this.adms.process(V||window.Visitor)},requestRemoval:function(a){if(!O)return"removeFinishedScriptsAndCallbacks is not boolean true";var b=this.toRemove,d,e;a===Object(a)&&(d=a.script,e=a.callbackName,(d===Object(d)&&"SCRIPT"===d.nodeName||"no script created"===d)&&("string"===
typeof e&&e.length)&&b.push(a));if(this.readyToRemove&&b.length){e=b.shift();d=e.script;e=e.callbackName;"no script created"!==d?(a=d.src,d.parentNode.removeChild(d)):a=d;window[e]=null;try{delete window[e]}catch(c){}this.removed.push({scriptSrc:a,callbackName:e});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(e);return this.requestRemoval()}return"requestRemoval() processed"}};l=function(){var a="http://fast.",b="?d_nsid\x3d"+k+"#"+encodeURIComponent(document.location.href);
if("string"===typeof F&&F.length)return F+b;y.IS_HTTPS&&(a=!0===M?"https://fast.":"https://");return a+m+".demdex.net/dest5.html"+b};var v={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+m+"_"+k,url:l(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:y.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonProcessed:[],newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function a(){e=
document.createElement("iframe");e.id=d.id;e.style.cssText="display: none; width: 0; height: 0;";e.src=d.url;d.newIframeCreated=!0;b();document.body.appendChild(e)}function b(){p.addListener(e,"load",function(){e.className="aamIframeLoaded";d.iframeHasLoaded=!0;d.requestToProcess()})}var d=this,e=document.getElementById(this.id);e?"IFRAME"!==e.nodeName?(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"aamIframeLoaded"!==e.className?(this.originalIframeHasLoadedAlready=!1,b()):
(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.requestToProcess())):a();this.iframe=e},requestToProcess:function(a,b){var d=this;a&&!r.isEmptyObject(a)&&this.process(a,b);this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){d.messageSendingInterval=y.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(a,b){var d=encodeURIComponent,
e,c,s,f,g,h;b===Object(b)&&(h=p.encodeAndBuildRequest(["",b.dpid||"",b.dpuuid||""],","));if((e=a.dests)&&e instanceof Array&&(c=e.length))for(s=0;s<c;s++)f=e[s],f=[d("dests"),d(f.id||""),d(f.y||""),d(f.c||"")],this.addMessage(f.join("|"));if((e=a.ibs)&&e instanceof Array&&(c=e.length))for(s=0;s<c;s++)f=e[s],f=[d("ibs"),d(f.id||""),d(f.tag||""),p.encodeAndBuildRequest(f.url||[],","),d(f.ttl||""),"",h],this.addMessage(f.join("|"));if((e=a.dpcalls)&&e instanceof Array&&(c=e.length))for(s=0;s<c;s++)f=
e[s],g=f.callback||{},g=[g.obj||"",g.fn||"",g.key||"",g.tag||"",g.url||""],f=[d("dpm"),d(f.id||""),d(f.tag||""),p.encodeAndBuildRequest(f.url||[],","),d(f.ttl||""),p.encodeAndBuildRequest(g,","),h],this.addMessage(f.join("|"));this.jsonProcessed.push(a)},addMessage:function(a){var b=encodeURIComponent,b=I?b("---destpub-debug---"):b("---destpub---");this.messages.push(b+a)},sendMessages:function(){var a=this,b;this.messages.length?(b=this.messages.shift(),DIL.xd.postMessage(b,this.url,this.iframe.contentWindow),
this.messagesPosted.push(b),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},L={traits:function(a){r.isValidPdata(a)&&(n.sids instanceof Array||(n.sids=[]),p.extendArray(n.sids,a));return this},pixels:function(a){r.isValidPdata(a)&&(n.pdata instanceof Array||(n.pdata=[]),p.extendArray(n.pdata,a));return this},logs:function(a){r.isValidLogdata(a)&&(n.logdata!==Object(n.logdata)&&(n.logdata={}),p.extendObject(n.logdata,a));return this},customQueryParams:function(a){r.isEmptyObject(a)||
p.extendObject(n,a,q.reservedKeys);return this},signals:function(a,b){var d,e=a;if(!r.isEmptyObject(e)){if(b&&"string"===typeof b)for(d in e={},a)a.hasOwnProperty(d)&&(e[b+d]=a[d]);p.extendObject(n,e,q.reservedKeys)}return this},declaredId:function(a){q.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"===typeof a&&(n.callback=a);return this},afterResult:function(a){"function"===typeof a&&(n.postCallbackFn=a);return this},useImageRequest:function(){n.useImageRequest=
!0;return this},clearData:function(){n={};return this},submit:function(){B.submitRequest(n);n={};return this},getPartner:function(){return m},getContainerNSID:function(){return k},getEventLog:function(){return h},getState:function(){var a={},b={};p.extendObject(a,q,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});p.extendObject(b,v,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{pendingRequest:n,otherRequestInfo:a,destinationPublishingInfo:b}},idSync:function(a){if(E)return"Error: id syncs have been disabled";
if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof a.url||!a.url.length)return"Error: config.url is empty";var b=a.url,d=a.minutesToLive,e=encodeURIComponent,c,b=b.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof d)d=20160;else if(d=parseInt(d,10),isNaN(d)||0>=d)return"Error: config.minutesToLive needs to be a positive number";c=p.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",e(a.dpid),"img",
e(b),d,"",c];v.addMessage(a.join("|"));q.firstRequestHasFired&&v.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(E)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(r.isEmptyObject(a))return"Error: json is empty or not an object";v.ibsDeleted.push(a.ibs);
delete a.ibs;B.defaultCallback(a);return a},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var a=q,b=a.modStatsParams,d=a.platformParams,e;if(!b){b={};for(e in d)d.hasOwnProperty(e)&&!a.nonModStatsParams[e]&&(b[e.replace(/^d_/,"")]=d[e]);a.modStatsParams=b}return b}},B={corsMetadata:function(){var a="none",b=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?
a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(b=!1));return{corsType:a,corsCookiesEnabled:b}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){q.registerRequest(B.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var b=q,d,e=a.callback,c="img",f;if(!r.isEmptyObject(z)){var g,
h,m;for(g in z)if(z.hasOwnProperty(g)&&(h=z[g],!(null==h||""===h)&&g in a&&!(h in a)&&!(h in q.reservedKeys)))m=a[g],null==m||""===m||(a[h]=m)}r.isValidPdata(a.sids)||(a.sids=[]);r.isValidPdata(a.pdata)||(a.pdata=[]);r.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=p.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof e&&(e=this.defaultCallback);b.useJSONP=!0!==a.useImageRequest;b.useJSONP&&(c="script",d=b.callbackPrefix+
"_"+k+"_"+(new Date).getTime());b=this.makeRequestSrcData(a,d);if(!U&&(f=this.getCORSInstance())&&b.truncated&&(this.corsMetadata.corsCookiesEnabled||b.isDeclaredIdCall))c="cors";return{tag:c,src:b.src,corsSrc:b.corsSrc,internalCallbackName:d,callbackFn:e,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:f,corsPostData:b.corsPostData,hasCORSError:!1}},defaultCallback:function(a,b){var d,e,c,f,g,h,m,k,w;if((d=a.stuff)&&d instanceof Array&&(e=d.length))for(c=
0;c<e;c++)if((f=d[c])&&f===Object(f)){g=f.cn;h=f.cv;m=f.ttl;if("undefined"===typeof m||""===m)m=Math.floor(p.getMaxCookieExpiresInMinutes()/60/24);k=f.dmn||"."+document.domain.replace(/^www\./,"");w=f.type;if(g&&(h||"number"===typeof h))"var"!==w&&(m=parseInt(m,10))&&!isNaN(m)&&p.setCookie(g,h,1440*m,"/",k,!1),K.stuffed[g]=h}d=a.uuid;if(r.isPopulatedString(d)&&!r.isEmptyObject(x)){e=x.path;if("string"!==typeof e||!e.length)e="/";c=parseInt(x.days,10);isNaN(c)&&(c=100);p.setCookie(x.name||"aam_did",
d,1440*c,e,x.domain||"."+document.domain.replace(/^www\./,""),!0===x.secure)}!D&&!q.abortRequests&&v.requestToProcess(a,b)},makeRequestSrcData:function(a,b){a.sids=r.removeEmptyArrayValues(a.sids||[]);a.pdata=r.removeEmptyArrayValues(a.pdata||[]);var d=q,e=d.platformParams,c=p.encodeAndBuildRequest(a.sids,","),f=p.encodeAndBuildRequest(a.pdata,","),g=(a.logdataArray||[]).join("\x26");delete a.logdataArray;var h=y.IS_HTTPS?"https://":"http://",l=d.declaredId.getDeclaredIdQueryString(),n=d.adms.instance?
d.adms.getCustomerIDsQueryString(d.adms.getCustomerIDs()):"",w;w=[];var u,C,G,v;for(u in a)if(!(u in d.reservedKeys)&&a.hasOwnProperty(u))if(C=a[u],u=encodeURIComponent(u),C instanceof Array){G=0;for(v=C.length;G<v;G++)w.push(u+"\x3d"+encodeURIComponent(C[G]))}else w.push(u+"\x3d"+encodeURIComponent(C));w=w.length?"\x26"+w.join("\x26"):"";u=!1;c="d_nsid\x3d"+e.d_nsid+l+n+(c.length?"\x26d_sid\x3d"+c:"")+(f.length?"\x26d_px\x3d"+f:"")+(g.length?"\x26d_ld\x3d"+encodeURIComponent(g):"");e="\x26d_rtbd\x3d"+
e.d_rtbd+"\x26d_jsonv\x3d"+e.d_jsonv+"\x26d_dst\x3d"+e.d_dst;h=h+m+".demdex.net/event";f=d=h+"?"+c+(d.useJSONP?e+"\x26d_cb\x3d"+(b||""):"")+w;2048<d.length&&(d=d.substring(0,d.lastIndexOf("\x26")),u=!0);return{corsSrc:h+"?"+(T?"testcors\x3d1\x26d_nsid\x3d"+k+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:d,originalSrc:f,truncated:u,corsPostData:c+e+w,isDeclaredIdCall:""!==l}},fireRequest:function(a){if("img"===a.tag)this.fireImage(a);else{var b=q.declaredId,b=b.declaredId.request||b.declaredId.init||
{},b={dpid:b.dpid||"",dpuuid:b.dpuuid||""};"script"===a.tag?this.fireScript(a,b):"cors"===a.tag&&this.fireCORS(a,b)}},fireImage:function(a){var b=q,d,e;b.abortRequests||(b.firing=!0,d=new Image(0,0),b.sent.push(a),d.onload=function(){b.firing=!1;b.fired.push(a);b.num_of_img_responses++;b.registerRequest()},e=function(d){f="imgAbortOrErrorHandler received the event of type "+d.type;h.push(f);b.abortRequests=!0;b.firing=!1;b.errored.push(a);b.num_of_img_errors++;b.registerRequest()},d.addEventListener?
(d.addEventListener("error",e,!1),d.addEventListener("abort",e,!1)):d.attachEvent&&(d.attachEvent("onerror",e),d.attachEvent("onabort",e)),d.src=a.src)},fireScript:function(a,b){var d=this,e=q,c,g,k=a.src,l=a.postCallbackFn,p="function"===typeof l,n=a.internalCallbackName;e.abortRequests||(e.firing=!0,window[n]=function(d){try{d!==Object(d)&&(d={});E&&(v.ibsDeleted.push(d.ibs),delete d.ibs);var c=a.callbackFn;e.firing=!1;e.fired.push(a);e.num_of_jsonp_responses++;c(d,b);p&&l(d,b)}catch(t){t.message=
"DIL jsonp callback caught error with message "+t.message;f=t.message;h.push(f);t.filename=t.filename||"dil.js";t.partner=m;DIL.errorModule.handleError(t);try{c({error:t.name+"|"+t.message},b),p&&l({error:t.name+"|"+t.message},b)}catch(k){}}finally{e.requestRemoval({script:g,callbackName:n}),e.registerRequest()}},Q?(e.firing=!1,e.requestRemoval({script:"no script created",callbackName:n})):(g=document.createElement("script"),g.addEventListener&&g.addEventListener("error",function(b){e.requestRemoval({script:g,
callbackName:n});f="jsonp script tag error listener received the event of type "+b.type+" with src "+k;d.handleScriptError(f,a)},!1),g.type="text/javascript",g.src=k,c=DIL.variables.scriptNodeList[0],c.parentNode.insertBefore(g,c)),e.sent.push(a),e.declaredId.declaredId.request=null)},fireCORS:function(a,b){function d(d){var g;try{if(g=JSON.parse(d),g!==Object(g)){e.handleCORSError(a,b,"Response is not JSON");return}}catch(s){e.handleCORSError(a,b,"Error parsing response as JSON");return}try{var l=
a.callbackFn;c.firing=!1;c.fired.push(a);c.num_of_cors_responses++;l(g,b);r&&p(g,b)}catch(k){k.message="DIL handleCORSResponse caught error with message "+k.message;f=k.message;h.push(f);k.filename=k.filename||"dil.js";k.partner=m;DIL.errorModule.handleError(k);try{l({error:k.name+"|"+k.message},b),r&&p({error:k.name+"|"+k.message},b)}catch(n){}}finally{c.registerRequest()}}var e=this,c=q,g=this.corsMetadata.corsType,k=a.corsSrc,l=a.corsInstance,n=a.corsPostData,p=a.postCallbackFn,r="function"===
typeof p;if(!c.abortRequests){c.firing=!0;if(R)c.firing=!1;else try{l.open("post",k,!0),"XMLHttpRequest"===g?(l.withCredentials=!0,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){4===this.readyState&&(200===this.status?d(this.responseText):e.handleCORSError(a,b,"onreadystatechange"))}):"XDomainRequest"===g&&(l.onload=function(){d(this.responseText)}),l.onerror=function(){e.handleCORSError(a,b,"onerror")},l.ontimeout=function(){e.handleCORSError(a,
b,"ontimeout")},l.send(n)}catch(u){this.handleCORSError(a,b,"try-catch")}c.sent.push(a);c.declaredId.declaredId.request=null}},handleCORSError:function(a,b,d){a.hasCORSError||(a.hasCORSError=!0,q.num_of_cors_errors++,q.corsErrorSources.push(d),a.tag="script",this.fireScript(a,b))},handleScriptError:function(a,b){q.num_of_jsonp_errors++;this.handleRequestError(a,b)},handleRequestError:function(a,b){var d=q;h.push(a);d.abortRequests=!0;d.firing=!1;d.errored.push(b);d.registerRequest()}},r={isValidPdata:function(a){return a instanceof
Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,d=a.length,e,c=[],b=0;b<d;b++)e=a[b],"undefined"!==typeof e&&(null!==e&&""!==e)&&c.push(e);return c},isPopulatedString:function(a){return"string"===typeof a&&a.length}},p={addListener:function(){if(document.addEventListener)return function(a,
b,d){a.addEventListener(b,function(a){"function"===typeof d&&d(a)},!1)};if(document.attachEvent)return function(a,b,d){a.attachEvent("on"+b,function(a){"function"===typeof d&&d(a)})}}(),convertObjectToKeyValuePairs:function(a,b,d){var e=[],c,f;b||(b="\x3d");for(c in a)a.hasOwnProperty(c)&&(f=a[c],"undefined"!==typeof f&&(null!==f&&""!==f)&&e.push(c+b+(d?encodeURIComponent(f):f)));return e},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,
b){if(Array.prototype.map)return a.map(b);if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var f=Array(c),g=0;g<c;g++)g in d&&(f[g]=b.call(b,d[g],g,d));return f},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var f=[],g=0;g<c;g++)if(g in d){var h=d[g];b.call(b,h,g,d)&&f.push(h)}return f}return a.filter(b)},
getCookie:function(a){a+="\x3d";var b=document.cookie.split(";"),d,c,f;d=0;for(c=b.length;d<c;d++){for(f=b[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(a))return decodeURIComponent(f.substring(a.length,f.length))}return null},setCookie:function(a,b,d,c,f,g){var h=new Date;d&&(d*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(b)+(d?";expires\x3d"+(new Date(h.getTime()+d)).toUTCString():"")+(c?";path\x3d"+c:"")+(f?";domain\x3d"+f:"")+(g?";secure":"")},extendArray:function(a,b){return a instanceof
Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,d){var c;if(a===Object(a)&&b===Object(b)){for(c in b)if(b.hasOwnProperty(c)&&(r.isEmptyObject(d)||!(c in d)))a[c]=b[c];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(y.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"===m&&0===k&&p.addListener(window,"load",function(){DIL.windowLoaded=!0});var X=!1,H=function(){X||(X=!0,q.registerRequest(),Z(),!D&&!q.abortRequests&&
v.attachIframe(),q.readyToRemove=!0,q.requestRemoval())},Z=function(){D||setTimeout(function(){!S&&!q.firstRequestHasFired&&("function"===typeof J?L.afterResult(J).submit():L.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},Y=document;"error"!==m&&(DIL.windowLoaded?H():"complete"!==Y.readyState&&"loaded"!==Y.readyState?p.addListener(window,"load",function(){DIL.windowLoaded=!0;H()}):(DIL.windowLoaded=!0,H()));q.declaredId.setDeclaredId(N,"init");q.processVisitorAPI();this.api=L;this.getStuffedVariable=
function(a){var b=K.stuffed[a];!b&&"number"!==typeof b&&(b=p.getCookie(a),!b&&"number"!==typeof b&&(b=""));return b};this.validators=r;this.helpers=p;this.constants=y;this.log=h;W&&(this.pendingRequest=n,this.requestController=q,this.setDestinationPublishingUrl=l,this.destinationPublishing=v,this.requestProcs=B,this.variables=K,this.callWindowLoadFunctions=H)},function(){var c=document,g;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",g=function(){c.removeEventListener("DOMContentLoaded",
g,!1);c.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(c){var g;if(c===Object(c))for(g in c)c.hasOwnProperty(g)&&(this[g]=c[g])},DIL.extendStaticPropertiesAndMethods({version:"6.2",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(c){this.windowLoaded="function"===typeof c?!!c():"boolean"===typeof c?c:!0},create:function(c){try{return new DIL(c)}catch(g){return(new Image(0,
0)).src="http://error.demdex.net/event?d_nsid\x3d0\x26d_px\x3d14137\x26d_ld\x3dname%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(c,g,h){g=g+"$"+h;g in this.dils||(this.dils[g]=c)},getDil:function(c,g){var h;"string"!==typeof c&&(c="");g||(g=0);h=c+"$"+g;return h in this.dils?
this.dils[h]:Error("The DIL instance with partner \x3d "+c+" and containerNSID \x3d "+g+" was not found")},dexGetQSVars:function(c,g,h){g=this.getDil(g,h);return g instanceof this?g.getStuffedVariable(c):""},xd:{postMessage:function(c,g,h){var f=1;g&&(window.postMessage?h.postMessage(c,g.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):g&&(h.location=g.replace(/#.*$/,"")+"#"+ +new Date+f++ +"\x26"+c))}}}),DIL.errorModule=function(){var c=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),
g={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},h=!1;return{activate:function(){h=!0},handleError:function(f){if(!h)return"DIL error module has not been activated";f!==Object(f)&&(f={});var l=f.name?(f.name+"").toLowerCase():"",m=[];f={name:l,filename:f.filename?f.filename+"":"",partner:f.partner?f.partner+"":"no_partner",site:f.site?f.site+"":document.location.href,
message:f.message?f.message+"":""};m.push(l in g?g[l]:g.noerrortypedefined);c.api.pixels(m).logs(f).useImageRequest().submit();return"DIL error report sent"},pixelMap:g}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(c,g,h){var f="";g=g||"Error caught in DIL module/submodule: ";c===Object(c)?f=g+(c.message||"err has no message"):(f=g+"err is not a valid object",c={});c.message=f;h instanceof DIL&&(c.partner=h.api.getPartner());DIL.errorModule.handleError(c);return this.errorMessage=
f}}});
DIL.tools.getSearchReferrer=function(c,g){var h=DIL.getDil("error"),f=DIL.tools.decomposeURI(c||document.referrer),l="",m="",k={queryParam:"q"},l=h.helpers.filter([g===Object(g)?g:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(c){return!(!c.hasOwnProperty("hostPattern")||!f.hostname.match(c.hostPattern))}).shift();return!l?{valid:!1,name:"",keywords:""}:{valid:!0,name:f.hostname,keywords:(h.helpers.extendObject(k,l),
m=k.queryPattern?(l=(""+f.search).match(k.queryPattern))?l[1]:"":f.uriParams[k.queryParam],decodeURIComponent(m||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(c){var g=DIL.getDil("error"),h=document.createElement("a");h.href=c||document.referrer;return{hash:h.hash,host:h.host.split(":").shift(),hostname:h.hostname,href:h.href,pathname:h.pathname.replace(/^\//,""),protocol:h.protocol,search:h.search,uriParams:function(c,h){g.helpers.map(h.split("\x26"),function(g){g=g.split("\x3d");c[g.shift()]=g.shift()});return c}({},h.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var c={},g=document.getElementsByTagName("meta"),h,f,l,m,k;h=0;for(l=arguments.length;h<l;h++)if(m=arguments[h],null!==m)for(f=0;f<g.length;f++)if(k=g[f],k.name===m){c[m]=k.content;break}return c};